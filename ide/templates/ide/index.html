{% extends "ide/base.html" %}
{% block content %}
<div class="container">
    <div class="masthead">
        <h3 class="muted">CloudPebble</h3>
    </div>
    <div class="span10 offset1 well">
        {% if my_projects %}
            <table class="table">
                <thead>
                    <tr><th>Project</th><th>Kind</th><th>Last modified</th><th>Last compiled</th></tr>
                </thead>
                <tbody>
                {% for project in my_projects %}
                    <tr>
                        <td><a href="{% url 'ide:project' project.id %}">{{ project.name }}</a></td>
                        <td>{{ project.get_app_kind_display }}</td>
                        <td>{{ project.last_modified }}</td>
                        <td>
                            {% if project.last_compiled %}
                                {{ project.last_compiled }}
                                {% if project.last_build_successful %}
                                    <span class="label label-success">Successful</span>
                                {% else %}
                                    <span class="label label-important">Failed</span>
                                {% endif %}
                            {% else %}
                                <span class="muted">Never</span>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>You don't have any projects yet.</p>
        {% endif %}
        <p><a href="{% url 'ide:create' %}" class="btn">Create Project</a></p>
    </div>
</div>
{% endblock %}
